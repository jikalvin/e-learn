{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/taggedTemplateLiteralLoose\";\nvar _templateObject;\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { useMutation, gql } from '@apollo/client';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport ScreenOne from \"./auth/sn1\";\nimport Loading from \"../components/Loading\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar SIGNIN_USER = gql(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"\\n  mutation signIn($email: String, $password: String!) {\\n    signIn(email: $email, password: $password)\\n  }\\n\"])));\nvar SignIn = function SignIn(props) {\n  var _useMutation = useMutation(SIGNIN_USER, {\n      onCompleted: function onCompleted(data) {\n        AsyncStorage.setItem('token', data.signIn).then(props.navigation.navigate('Home'));\n      }\n    }),\n    _useMutation2 = _slicedToArray(_useMutation, 2),\n    signIn = _useMutation2[0],\n    _useMutation2$ = _useMutation2[1],\n    loading = _useMutation2$.loading,\n    error = _useMutation2$.error;\n  var onPress = function onPress() {\n    props.navigation.navigate('Register - Role');\n  };\n  if (loading) return _jsx(Loading, {});\n  return _jsxs(React.Fragment, {\n    children: [error && _jsx(Text, {\n      children: \"Error signing in!\"\n    }), _jsx(ScreenOne, {\n      action: signIn,\n      formType: \"signIn\",\n      navigation: props.navigation,\n      onPress: onPress\n    })]\n  });\n};\nexport default SignIn;","map":{"version":3,"names":["React","View","Button","Text","useMutation","gql","AsyncStorage","ScreenOne","Loading","jsx","_jsx","jsxs","_jsxs","SIGNIN_USER","_templateObject","_taggedTemplateLiteralLoose","SignIn","props","_useMutation","onCompleted","data","setItem","signIn","then","navigation","navigate","_useMutation2","_slicedToArray","_useMutation2$","loading","error","onPress","Fragment","children","action","formType"],"sources":["C:/Users/HP/Downloads/E-Learn/auth-demo/reactnativeapp/screens/signin.js"],"sourcesContent":["import React from 'react';\r\nimport { View, Button, Text } from 'react-native';\r\n// import * as SecureStore from 'expo-secure-store';\r\nimport { useMutation, gql } from '@apollo/client';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\nimport ScreenOne from './auth/sn1';\r\nimport Loading from '../components/Loading';\r\n\r\nconst SIGNIN_USER = gql`\r\n  mutation signIn($email: String, $password: String!) {\r\n    signIn(email: $email, password: $password)\r\n  }\r\n`;\r\n\r\nconst SignIn = props => {\r\n  const [signIn, { loading, error }] = useMutation(SIGNIN_USER, {\r\n    onCompleted: data => {\r\n      // store the token with a key value of `token`\r\n      // after the token is stored navigate to the app's main screen\r\n      AsyncStorage.setItem('token', data.signIn).then(\r\n        props.navigation.navigate('Home')\r\n      );\r\n    }\r\n  });\r\n\r\n  const onPress = () => {\r\n    props.navigation.navigate('Register - Role');\r\n  };\r\n\r\n  // if loading, return a loading indicator\r\n  if (loading) return <Loading />;\r\n  return (\r\n    <React.Fragment>\r\n      {error && <Text>Error signing in!</Text>}\r\n      <ScreenOne\r\n        action={signIn}\r\n        formType=\"signIn\"\r\n        navigation={props.navigation}\r\n        onPress={onPress}\r\n      />\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default SignIn;\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,MAAM,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,MAAA;AAAA,OAAAC,IAAA;AAG1B,SAASC,WAAW,EAAEC,GAAG,QAAQ,gBAAgB;AACjD,OAAOC,YAAY,MAAM,2CAA2C;AAEpE,OAAOC,SAAS;AAChB,OAAOC,OAAO;AAA8B,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAE5C,IAAMC,WAAW,GAAGR,GAAG,CAAAS,eAAA,KAAAA,eAAA,GAAAC,2BAAA,wHAItB;AAED,IAAMC,MAAM,GAAG,SAATA,MAAMA,CAAGC,KAAK,EAAI;EACtB,IAAAC,YAAA,GAAqCd,WAAW,CAACS,WAAW,EAAE;MAC5DM,WAAW,EAAE,SAAAA,YAAAC,IAAI,EAAI;QAGnBd,YAAY,CAACe,OAAO,CAAC,OAAO,EAAED,IAAI,CAACE,MAAM,CAAC,CAACC,IAAI,CAC7CN,KAAK,CAACO,UAAU,CAACC,QAAQ,CAAC,MAAM,CAAC,CAClC;MACH;IACF,CAAC,CAAC;IAAAC,aAAA,GAAAC,cAAA,CAAAT,YAAA;IARKI,MAAM,GAAAI,aAAA;IAAAE,cAAA,GAAAF,aAAA;IAAIG,OAAO,GAAAD,cAAA,CAAPC,OAAO;IAAEC,KAAK,GAAAF,cAAA,CAALE,KAAK;EAU/B,IAAMC,OAAO,GAAG,SAAVA,OAAOA,CAAA,EAAS;IACpBd,KAAK,CAACO,UAAU,CAACC,QAAQ,CAAC,iBAAiB,CAAC;EAC9C,CAAC;EAGD,IAAII,OAAO,EAAE,OAAOnB,IAAA,CAACF,OAAO,KAAG;EAC/B,OACEI,KAAA,CAACZ,KAAK,CAACgC,QAAQ;IAAAC,QAAA,GACZH,KAAK,IAAIpB,IAAA,CAACP,IAAI;MAAA8B,QAAA,EAAC;IAAiB,EAAO,EACxCvB,IAAA,CAACH,SAAS;MACR2B,MAAM,EAAEZ,MAAO;MACfa,QAAQ,EAAC,QAAQ;MACjBX,UAAU,EAAEP,KAAK,CAACO,UAAW;MAC7BO,OAAO,EAAEA;IAAQ,EACjB;EAAA,EACa;AAErB,CAAC;AAED,eAAef,MAAM"},"metadata":{},"sourceType":"module"}